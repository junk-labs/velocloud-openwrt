From 376b26a26080232dbff7c63288fffeb77462f89e Mon Sep 17 00:00:00 2001
From: Aleksander Morgado <aleksander@aleksander.es>
Date: Thu, 27 Oct 2016 18:55:03 +0200
Subject: [PATCH 4/7] libqmi-glib,proxy: plug memleak on command error

(cherry picked from commit 5a370d0929e756912e4486e1869c877618a4b6c1)
---
 src/libqmi-glib/qmi-proxy.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/libqmi-glib/qmi-proxy.c b/src/libqmi-glib/qmi-proxy.c
index 857780b..44ad11c 100644
--- a/src/libqmi-glib/qmi-proxy.c
+++ b/src/libqmi-glib/qmi-proxy.c
@@ -483,6 +483,7 @@ device_command_ready (QmiDevice *device,
     if (!response) {
         g_warning ("sending request to device failed: %s", error->message);
         g_error_free (error);
+        g_slice_free (Request, request);
         return;
     }
 
-- 
2.10.1

