opengt
 set com 115200n81
 set senddelay 0.05
 waitquiet 1 0.5
 flash 0.1

 let c=0
:start
 send "ATI^m"
 get 1 "" $s
 let l=len($s)
 if l = 0 goto checkrepeat
 if $s == "ERROR" goto checkrepeat
 if l > 0 goto output

:checkrepeat
 inc c
 if c>3 goto error
 waitquiet 1 0.5
 goto start

:timeout
 flash 0.1
 exit 1

:output
 flash 0.1
 print $s
 exit 0

:error
 flash 0.1
 print "Error getting card info\n"
 exit 1
