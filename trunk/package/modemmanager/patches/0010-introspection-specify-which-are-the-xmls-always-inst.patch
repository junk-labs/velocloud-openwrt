From 1456c1b8f6acfeca2547031a3fcd93a5226297c2 Mon Sep 17 00:00:00 2001
From: Aleksander Morgado <aleksander@aleksander.es>
Date: Mon, 25 Jul 2016 18:58:15 +0200
Subject: [PATCH 10/12] introspection: specify which are the xmls always
 installed, no wildcard matching

---
 introspection/Makefile.am | 31 ++++++++++++++++---------------
 1 file changed, 16 insertions(+), 15 deletions(-)

diff --git a/introspection/Makefile.am b/introspection/Makefile.am
index b6a0c41..f84cd20 100644
--- a/introspection/Makefile.am
+++ b/introspection/Makefile.am
@@ -2,20 +2,16 @@
 SUBDIRS = . tests
 
 # DBus Introspection files
-XMLS = $(wildcard *.xml)
-XMLS_FILTERED_OUT = \
-	all.xml \
-	wip-org.freedesktop.ModemManager1.Modem.Contacts.xml \
-	org.freedesktop.ModemManager1.Modem.Location.xml \
-	org.freedesktop.ModemManager1.Modem.Messaging.xml \
-	org.freedesktop.ModemManager1.Modem.Time.xml \
-	org.freedesktop.ModemManager1.Modem.Voice.xml \
-	org.freedesktop.ModemManager1.Modem.Signal.xml \
-	org.freedesktop.ModemManager1.Modem.Oma.xml \
-	org.freedesktop.ModemManager1.Modem.Firmware.xml \
-	$(NULL)
 xmldir = $(datadir)/dbus-1/interfaces
-xml_DATA = $(filter-out $(XMLS_FILTERED_OUT), $(XMLS))
+xml_DATA = \
+	org.freedesktop.ModemManager1.xml \
+	org.freedesktop.ModemManager1.Modem.xml \
+	org.freedesktop.ModemManager1.Modem.Modem3gpp.xml \
+	org.freedesktop.ModemManager1.Modem.ModemCdma.xml \
+	org.freedesktop.ModemManager1.Modem.Simple.xml \
+	org.freedesktop.ModemManager1.Bearer.xml \
+	org.freedesktop.ModemManager1.Sim.xml \
+	$(NULL)
 
 if WITH_INTERFACE_LOCATION
 xml_DATA += org.freedesktop.ModemManager1.Modem.Location.xml
@@ -57,6 +53,11 @@ all.xml: $(xml_DATA) Makefile
 		echo "</tp:spec>" >> $@
 
 BUILT_SOURCES = all.xml
-CLEANFILES = all.xml
+CLEANFILES    = all.xml
+
+IGNORED_XML = \
+	all.xml \
+	wip-org.freedesktop.ModemManager1.Modem.Contacts.xml \
+	$(NULL)
 
-EXTRA_DIST = $(XMLS)
+EXTRA_DIST = $(filter-out $(IGNORED_XML), $(wildcard *.xml))
-- 
2.10.2

