#!/bin/bash
#
cd /sys/devices/platform/vc/leds
order="logo bar5 bar4 bar3 bar2 bar1 wifi usb_left usb_top usb_bottom usb_right"
# all off
echo $0: all off
echo 0 > off
sleep 1
if [ "$1" != "-i" ]; then
  # sequence all red
  echo $0: sequence reds
  for i in $order
  do
    echo 0xff > $i
    sleep 1
  done
  # sequence all green
  echo $0: sequence greens
  for i in $order
  do
    echo 0xff00 > $i
    sleep 1
  done
  # sequence all blue
  echo $0: sequence blues
  for i in $order
  do
    echo 0xff0000 > $i
    sleep 1
  done
fi
# all red intensity;
echo $0: red intensity up/down
for v in {0..15} {15..0}
do
  bgr=$(($v << 4))
  for i in $order
  do
    echo $bgr > $i
  done
done
# all green intensity;
echo $0: green intensity up/down
for v in {0..15} {15..0}
do
  bgr=$(($v << 12))
  for i in $order
  do
    echo $bgr > $i
  done
done
# all blue intensity;
echo $0: blue intensity up/down
for v in {0..15} {15..0}
do
  bgr=$(($v << 20))
  for i in $order
  do
    echo $bgr > $i
  done
done
# all white intensity;
echo $0: white intensity up/down
for v in {0..15} {15..0}
do
  bgr=$((($v << 20) | ($v << 12) | ($v << 4)))
  for i in $order
  do
    echo $bgr > $i
  done
done

