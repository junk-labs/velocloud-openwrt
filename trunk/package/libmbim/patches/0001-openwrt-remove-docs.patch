From 8e184aea220fd1793b27fe4bb68d6a546beca90b Mon Sep 17 00:00:00 2001
From: Aleksander Morgado <aleksander@aleksander.es>
Date: Sat, 9 Apr 2016 21:44:22 +0200
Subject: [PATCH 1/2] openwrt: remove docs

---
 Makefile.am  |  5 ++---
 autogen.sh   |  1 -
 configure.ac | 15 +--------------
 3 files changed, 3 insertions(+), 18 deletions(-)

diff --git a/Makefile.am b/Makefile.am
index aefa985..e576594 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -1,11 +1,10 @@
 
-SUBDIRS = . build-aux data src utils docs
+SUBDIRS = . build-aux data src utils
 
 ACLOCAL_AMFLAGS = -I m4
 
 DISTCHECK_CONFIGURE_FLAGS = \
-	--with-udev-base-dir="$$dc_install_base" \
-	--enable-gtk-doc
+	--with-udev-base-dir="$$dc_install_base"
 
 EXTRA_DIST = \
 	gtester.make \
diff --git a/autogen.sh b/autogen.sh
index 1b1d9b9..bb85f2a 100755
--- a/autogen.sh
+++ b/autogen.sh
@@ -14,7 +14,6 @@ PKG_NAME=libmbim
 }
 
 (cd $srcdir;
-    gtkdocize || exit 1
     mkdir -p m4
     touch ChangeLog
     autoreconf --force --install --verbose
diff --git a/configure.ac b/configure.ac
index c61f67b..975ca10 100644
--- a/configure.ac
+++ b/configure.ac
@@ -101,9 +101,6 @@ AC_SUBST(MBIMPROXY_LIBS)
 GLIB_MKENUMS=`$PKG_CONFIG --variable=glib_mkenums glib-2.0`
 AC_SUBST(GLIB_MKENUMS)
 
-dnl Documentation
-GTK_DOC_CHECK(1.0)
-
 # MBIM username
 MBIM_USERNAME="root"
 AC_ARG_ENABLE(mbim-username,
@@ -160,10 +157,6 @@ else
 fi
 AC_SUBST(UDEV_BASE_DIR)
 
-dnl Man page
-AC_PATH_PROG(HELP2MAN, help2man, false)
-AM_CONDITIONAL(BUILDOPT_MAN, test x$HELP2MAN != xfalse)
-
 AC_CONFIG_FILES([Makefile
                  build-aux/Makefile
                  build-aux/templates/Makefile
@@ -180,12 +173,7 @@ AC_CONFIG_FILES([Makefile
                  src/libmbim-glib/test/Makefile
                  src/mbimcli/Makefile
                  src/mbim-proxy/Makefile
-                 utils/Makefile
-                 docs/Makefile
-                 docs/reference/Makefile
-                 docs/reference/libmbim-glib/Makefile
-                 docs/reference/libmbim-glib/version.xml
-                 docs/man/Makefile])
+                 utils/Makefile])
 
 if test "x$MBIM_USERNAME_ENABLED" = "xyes"; then
     AC_CONFIG_FILES([src/mbim-proxy/76-mbim-proxy-device-ownership.rules])
@@ -202,7 +190,6 @@ echo "
       cflags:               ${CFLAGS}
       ldflags:              ${LDFLAGS}
       Maintainer mode:      ${USE_MAINTAINER_MODE}
-      Documentation:        ${enable_gtk_doc}
 
     System paths:
       prefix:               ${prefix}
-- 
2.13.1

